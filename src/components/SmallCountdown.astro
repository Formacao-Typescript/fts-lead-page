<div id="countdown" class="countdown">
  <span class="countdown-divider" />
  <span id="countdown-value" class="countdown-value" />
  <span class="countdown-divider" />  
</div>

<style lang="scss">
  .countdown {
    --ts-gradient: linear-gradient(to right, #00aac9 30%, #006bfd);

    width: 95%;
    margin: auto;
    height: 25%;
    display: flex;
    justify-content: center;
    align-items: center;
    gap: 2rem;

    &-divider {
      width: 60px;
      height: 2px;
      border-radius: 50%;

      &:first-child {
        background: linear-gradient(to right, #545454 30%, #9e9e9e);
      }

      &:last-child {
        background: linear-gradient(to left, #545454 30%, #9e9e9e);
      }
    }

    &-value {
      text-transform: uppercase;
      background: var(--ts-gradient);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      font-weight: 900;
    }
  }
</style>
<script>
  const targetDate = new Date(import.meta.env.PUBLIC_TARGET_DATE).getTime()

  let interval = setInterval(function () {
    const $ = document.querySelector.bind(document)

    const now = new Date().getTime()

    const distance = targetDate - now

    const days = Math.floor(distance / (1000 * 60 * 60 * 24))
    const hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60))
    const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60))
    const seconds = Math.floor((distance % (1000 * 60)) / 1000)

    const value = `${days} dias ${hours}h ${minutes}min ${seconds}seg`;
    $('#countdown-value')!.innerHTML = String(value)

    if (distance < 0) {
      clearInterval(interval)
    $('#countdown-value')!.innerHTML = 'JÃ¡ rolou!'
      
    }
  }, 1000)
</script>
